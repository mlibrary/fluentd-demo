<source>
  # kind of source it is. In this case it is the forward plugin. This is the
  # plugin to use for getting logs generated by the fluentd plugin
  # documentation for the forward plugin: https://docs.fluentd.org/input/forward 
  @type forward 

  # The port its expecting to receive logs on 
  port 24224 
</source>

# This is using type loki. 
# Documentation: https://grafana.com/docs/loki/latest/clients/fluentd/
<match **>
  @type loki
  url "#{ENV['LOKI_URL']}"
  extra_labels {"job":"ruby"}
  <buffer>
    flush_interval 10s
    flush_at_shutdown true
  </buffer>
</match>
